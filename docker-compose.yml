version: '3.8'

services:
  travel4u-app:
    build: .
    container_name: travel4u-app
    environment:
      SPRING_PROFILES_ACTIVE: docker

      # --- SUPABASE DATABASE CONFIG ---
      SPRING_DATASOURCE_URL: jdbc:postgresql://db.tiifltprjgtyfimhnezi.supabase.co:5432/postgres
      SPRING_DATASOURCE_USERNAME: postgres
      SPRING_DATASOURCE_PASSWORD: ${SUPABASE_PASSWORD}

      # --- PORT ---
      SERVER_PORT: 8081

    ports:
      - "8081:8081"

    networks:
      - travel4u-network

    volumes:
      - ./logs:/app/logs

    restart: unless-stopped

networks:
  travel4u-network:
    driver: bridge
